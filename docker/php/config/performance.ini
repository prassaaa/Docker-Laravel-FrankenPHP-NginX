; PHP Performance Configuration for Laravel

; Memory and execution limits
memory_limit=512M
max_execution_time=300
max_input_time=300
max_input_vars=10000

; File uploads
upload_max_filesize=100M
post_max_size=100M
max_file_uploads=20

; Session configuration
session.gc_probability=1
session.gc_divisor=1000
session.gc_maxlifetime=1440

; Output buffering
output_buffering=4096

; Realpath cache
realpath_cache_size=4096K
realpath_cache_ttl=600

; Error handling
error_reporting=E_ALL & ~E_DEPRECATED & ~E_STRICT
display_errors=Off
display_startup_errors=Off
log_errors=On
error_log=/dev/stderr

; Timezone
date.timezone=UTC

; Disable functions (security)
disable_functions=

; Enable short open tags (if needed by legacy code)
short_open_tag=Off

; Precision
precision=14

; URL rewriter
url_rewriter.tags=""

; Zlib compression
zlib.output_compression=Off

; MySQLi settings (if using MySQL)
mysqli.max_persistent=-1
mysqli.allow_persistent=On
mysqli.max_links=-1
mysqli.default_port=3306
mysqli.reconnect=Off

; PostgreSQL settings (if using PostgreSQL)
pgsql.allow_persistent=On
pgsql.auto_reset_persistent=Off
pgsql.max_persistent=-1
pgsql.max_links=-1

; Redis settings
redis.arrays.retryinterval=0
redis.clusters.read_timeout=2
redis.pconnect.pooling_enabled=1
redis.pconnect.connection_limit=0

; Assertion (disable in production)
zend.assertions=-1

; Enable huge pages
opcache.huge_code_pages=1

; FPM-specific settings (ignored by FrankenPHP but kept for reference)
; These would be used if switching to PHP-FPM
; pm=dynamic
; pm.max_children=50
; pm.start_servers=10
; pm.min_spare_servers=5
; pm.max_spare_servers=35
; pm.max_requests=500